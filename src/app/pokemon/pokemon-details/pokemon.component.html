<div id="app-pokemon">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center pokemon-icon">
        <img src="{{ pokemon?.image }}" alt=""><span *ngIf="!pokemon.isAlive">☠</span>

        <div class="progress">
          <div class="progress-bar progress-bar-striped {{ (pokemon.life * 100) / 300 > 30 ? 'bg-success' : 'bg-danger' }}" role="progressbar" [style.width]="((pokemon.life * 100) / 300 >= 0) ? ((pokemon.life * 100) / 300 + '%') : (0 + '%')" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>

      <div class="col-12 text-center pokemon-name">
        {{ pokemon?.name }}
      </div>

      <div class="col-12 text-center">
        <p *ngIf="pokemon?.life > 0"><span class="pokemon-attr-title">Niveau de vie:</span> {{ pokemon?.life }}</p>
        <p *ngIf="pokemon?.life <= 0"><span class="pokemon-attr-title">Niveau de vie:</span> 0 </p>
        <p><span class="pokemon-attr-title">Rapidité:</span> {{ pokemon?.speed }}</p>
        <p><span class="pokemon-attr-title">Puissance:</span> {{ pokemon?.attackValue }}</p>
      </div>

      <div class="showBtnToogle">
        <div *ngIf=" expended == false">
          <span (click)="btnFormCLickedModify(pokemon)"> <button type="button" class="btn btn-primary">Modifier</button> </span>

        </div>
        <div *ngIf=" expended == true">
          <span (click)="expended = false"> <button type="button" class="btn btn-danger">Annuler</button> </span>
        </div>
      </div>

      <div class="formulaireChange" *ngIf="expended == true">
        <form method="post" (ngSubmit)="onSubmit()" [formGroup]="updatePokemonForm">
          <div class="form-group">
            <label>Rapidité</label>
            <input class="form-control" name="speed" formControlName="speed" [value]="pokemon?.speed">
            <label>Puissance</label>
            <input class="form-control" name="attackValue" formControlName="attackValue" [value]="pokemon?.attackValue">
            <button class="btn btn-success" type="submit"> CHEAT </button>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>
